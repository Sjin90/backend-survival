# 7-1. ORM

1.  **ORM(Object-Relational Mapping)**

    객체와 관계형 데이터를 매핑 하는 작업 내지는 기술, 도구 등을 의미한다(도구의 경우 M은 Mapper를 의미함). SELECT 후 객체를 생성하거나, 객체의 상태를 활용해 UPDATE를 하거나 하는 작업을 수행하며, 객체의 생명 주기를 관리하거나 변화를 감지하는 기능도 포함할 수 있다. 일반적인 ORM 도구들은 SQL문을 자동으로 생성하고, 그렇기 때문에 다양한 DBMS에 대응하기 좋다. SQL 작성 및 매핑 작업이 자동으로 이뤄지기 때문에 우리가 비즈니스 로직에 집중할 수 있게 돕고 유지 보수하기 좋다. 이를 통해 데이터베이스에 끌려가는 무기력한 도메인 객체가 아닌, 객체 지향 원칙을 따르는 도메인 객체를 영속화할 수 있게 된다.

    객체와 관계형 데이터베이스의 데이터를 자동으로 매핑(연결)해주는 것을 말한다.객체 지향 프로그래밍은 클래스를 사용하고, 관계형 데이터베이스는 테이블을 사용한다. 객체 모델과 관계형 모델 간에 불일치가 존재한다. ORM을 통해 객체 간의 관계를 바탕으로 SQL을 자동으로 생성하여 불일치를 해결한다.



    데이터베이스 데이터 <—매핑—> Object 필드



    객체를 통해 간접적으로 데이터베이스 데이터를 다룬다. Persistant API라고도 할 수 있다.

    ex) JPA, Hibernate 등



    (1) 영속성(persistence)이란?

    데이터를 생성한 프로그램의 실행이 종료되더라도 사라지지 않는 데이터의 특성을 의미한다. 영속성은 파일 시스템, 관계형 테이터베이스 혹은 객체 데이터베이스 등을 활용하여 구현한다.영속성을 갖지 않는 데이터는 단지 메모리에서만 존재하기 때문에 프로그램을 종료하면 모두 잃어버리게 된다. 영속성이 보장 되지 않는다면 프로그램 사용 중의 데이터를 일시적으로만 사용 할 수 있다. 종료 후 재 시작 시 이전에 사용했던 데이터를 사용하지 못하므로 그저 계산기 같은 프로그램에서처럼 순간의 처리만을 위해 사용할 수 있으므로 매우 중요하다. 결국 영속성은 특정 데이터 구조를 이전 상태로 복원할 수 있게 해주어 프로그램의 종료와 재개를 자유롭게 해준다.



    (2) Persistence Framework

    JDBC 프로그래밍의 복잡함이나 번거로움 없이 간단한 작업만으로 데이터베이스와 연동되는 시스템을 빠르게 개발할 수 있으며 안정적인 구동을 보장한다. Persistence Framework는 SQL Mapper, ORM으로 나눌 수 있다. 데이터 접근 계층 (Data access layer) - 영속 계층 (Persistence layer) 이라고도 함

    ex) JPA, Hibernate, Mybatis 등


2.  **JPA(Jakarta Persistence API)**

    Jakarta EE의 관계형 데이터 관리 API. Java에서 사용하는 ORM 표준이라고 볼 수 있다. JPA는 인터페이스, 즉 스펙만 다루고 있기 때문에 Hibernate, EclipseLink 등의 구현을 사용하게 된다. 공식적으로는 EclipseLink가 참조 구현이지만, 업계에서 오래 전부터 써왔고 JPA 스펙에 막대한 영향을 끼친 Hibernate가 가장 널리 사용된다.

    JPA는 Relationship Mapping과 Aggregate Mapping 등을 지원하고, 이를 잘 활용함으로써 객체(Object)와 관계(Relational)를 적절히 조화시킬 수 있다.


3.  **Jakarta EE**

    자바를 이용한 서버측 개발을 위한 플랫폼으로 자카르타 EE 플랫폼은 PC에서 동작하는 표준 플랫폼인 JavaSE에 부가하여, 웹 어플리케이션에서 동작하는 장애복구 및 분산 멀티티어를 제공하는 자바 소프트웨어의 기능을 추가한 서버를 위한 플랫폼이다.


4.  **Entity**

    JPA에서 사용되는 엔티티 클래스는 테이블과 매핑되는 클래스이다. 테이블에 대응하는 하나의 클래스

