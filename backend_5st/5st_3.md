**5-3. Spring Test**

- **통합 테스트(Integration Test)**
에플리케이션의 모든 구성요소가 예상대로 함꼐 작동하는지 확인하는 소프트테스트 유형.
단위테스트와는 다르게 여러개의 모듈이 서로 잘 연계되어 작업을 실행하는지 테스트한다.
개발자가 변경할수 없는 (외부라이브러리등)까지 묶어서 검증할때 사용한다. 

- **`@Autowired`**
필요한 의존객체의 타입에 해당하는 빈을 찾아서 주입한다. 
해당 변수 및 메서드에 스프링이 관리하는 bean을 자동으로 매핑해주는 개념이다. 
변수,setter매서드,생성자,일반 메서드에 사용가능하다. 

- **@SpyBean**
필요한 특정 메서드만을 Mocking하여 사용하는 어노테이션이다. 
특정 메서드만을 mocking하기 때문에 mockinㅎ된 메서드를 제외한 다른 메서드들은 mocking되지 않고 기존 로직그대로 정상적으로 수행된다. 
기존bean에 대해서 동자갛기 때문에 해당 개게에 대한 bean이 존재해야한다. 

- **MockMvc**
컨트롤러 테스트를 하고 싶을때 실제 서버에 구현한 애플리케이션을 올리지 않고 테스트용으로 시뮬레이션하여 mvc가 되도록 도와주는 클래스이다. 
사용법은 
(1)mockmvc를 생성
(2)mockmvc에게 요청에 대한 정보를 입력
(3) 요청에 대한 응답값을 expect를 이용하여 테스트
(4) expect가 모두 통과하면 테스트 통과 
(5) expect가 1개라도 실패하면 테스트 실패 

- **MockBean**
mock의 껍데기만 있는 객체로 기존의 사용되던 bean의 껍데기만 가져오고 내부의 구현부분은 모두 사용자에게 위임한 형태이다.
해당 baen에 어떤 메소드가 어떤 값이 입력되면 어떤 값이 리턴되어야 한다는 내용 모두 개발자 필요에 의해서 조작이 가능하다.
- **given** 
해당 mack bean이 어떤 행동을 취하면 어떤 결과를 반환한다 선언하는 부분

- **@WebMvcTest**
application context완전하게 strat시키지 않고 web layer를 테스트하고싶을때 @WebMvcTest를 사욯한다. 
present layer관련 컴포넌트만 스캔한다. 
service,repository dependency가 필요한 경우에는 @ㅡockBean으로 주입받아 테스트를 진행한다. 
@SpringBootTest의 경우 모든 빈을 로드하기 때문에 테스트 구동시간이 오래 걸리고 테스트 단위가 크기 때문에 디버깅이 어려울수 잇다. 
controller레이어만 슬라이스테스트하고싶을때는 @WebMvcTest를 쓰는것이 유용하다. 